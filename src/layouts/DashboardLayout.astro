---
import BaseHead from '../components/BaseHead.astro';
import '@fontsource/outfit/300.css';
import '@fontsource/outfit/400.css';
import '@fontsource/outfit/500.css';
import '@fontsource/outfit/600.css';
import '@fontsource/outfit/700.css';
import '@fontsource/outfit/800.css';
import '../styles/global.css';

interface Props {
  title: string;
  activePage?: string;
}

const { title, activePage = 'dashboard' } = Astro.props;

const navItems = [
  { id: 'dashboard', label: 'Dashboard', href: '/dashboard', icon: 'home' },
  { id: 'analytics', label: 'Analytics', href: '/dashboard/analytics', icon: 'chart' },
  { id: 'new', label: 'Nieuw Artikel', href: '/dashboard/new', icon: 'plus' },
  { id: 'agents', label: 'AI Agents', href: '/dashboard/agents', icon: 'bot' },
  { id: 'ai-articles', label: 'AI Artikelen', href: '/dashboard/ai-articles', icon: 'doc-check' },
  { id: 'system', label: 'Systeem', href: '/dashboard/system', icon: 'settings' },
  { id: 'agent-logs', label: 'Agent Logs', href: '/dashboard/agent-logs', icon: 'logs' },
];
---

<!doctype html>
<html lang="nl" class="h-full bg-gray-950 text-gray-100 antialiased">
<head>
  <BaseHead title={`${title} | Dashboard`} description="Content Engine Dashboard" />
  <style>
    .sidebar-link {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.625rem 1rem;
      border-radius: 0.5rem;
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--color-navy);
      opacity: 0.7;
      transition: all 0.15s;
    }
    .sidebar-link:hover {
      background: rgba(27, 45, 79, 0.05); /* Navy with low opacity */
      opacity: 1;
      color: var(--color-navy);
    }
    .sidebar-link.active {
      background: rgba(27, 45, 79, 0.1); /* Navy with bit more opacity */
      opacity: 1;
      color: var(--color-navy);
      font-weight: 600;
    }
  </style>
</head>
<body class="flex min-h-screen font-outfit bg-dashboard text-main">

  <!-- Sidebar -->
  <aside class="w-64 glass border-r border-white/30 flex flex-col shrink-0 relative z-20">
    <div class="p-5 border-b border-white/20">
      <a href="/dashboard" class="flex items-center gap-2">
        <div class="w-8 h-8 rounded-lg bg-navy/10 flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-navy" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
          </svg>
        </div>
        <span class="text-sm font-bold text-navy">ShortNews</span>
        <span class="text-xs font-medium text-gray-500 ml-auto">Engine</span>
      </a>
    </div>

    <nav class="flex-1 p-4 space-y-1">
      {navItems.map((item) => (
        <a href={item.href} class={`sidebar-link ${activePage === item.id ? 'active' : ''}`}>
          {item.icon === 'home' && (
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
            </svg>
          )}
          {item.icon === 'plus' && (
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
            </svg>
          )}
          {item.icon === 'chart' && (
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z" />
            </svg>
          )}
          {item.icon === 'bot' && (
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23-.693L5 14.5m14.8.8l1.402 1.402c1 1 .03 2.248-1.028 2.248H4.826c-1.06 0-2.03-1.248-1.028-2.248L5 14.5" />
            </svg>
          )}
          {item.icon === 'doc-check' && (
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          )}
          {item.icon === 'settings' && (
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
          )}
          {item.icon === 'logs' && (
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h7" />
            </svg>
          )}
          {item.label}
        </a>
      ))}
    </nav>

    <div class="p-4 border-t border-white/20">
      <a href="/" target="_blank" class="sidebar-link text-xs">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
        </svg>
        Bekijk Site
      </a>
    </div>
  </aside>

  <!-- Main Content -->
  <div class="flex-1 flex flex-col overflow-hidden relative z-10">
    <header class="h-14 glass border-b border-white/30 flex items-center px-6 sticky top-0 z-30">
      <h1 class="text-sm font-semibold text-navy">{title}</h1>
    </header>
    <main class="flex-1 overflow-y-auto p-6">
      <slot />
    </main>
  </div>

</body>
</html>
